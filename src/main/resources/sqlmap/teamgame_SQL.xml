<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.brownie.free.service.impl.FreeMapper">
    <insert id="makeTeamGameRoom">
        INSERT ALL
            INTO TEAMGAME_POSITION ( POSITION_SEQ
                                   , TOP
                                   , MID
                                   , JUN
                                   , BOT
                                   , SUP)
        VALUES ( POSITION_SEQ.NEXTVAL
               , #{top}
               , #{mid}
               , #{jun}
               , #{bot}
               , #{sup})
        INTO TEAMGAME ( TEAMGAME_SEQ
                      , USER_ID
                      , TITLE
                      , MATCH_MODE
                      , MESSAGE
                      , POSITION_SEQ
                      , STATUS
                      , IN_DATE
                      , IN_USER_ID
                      , UP_DATE
                      , UP_USER_ID)
        VALUES ( TEAMGAME_SEQ.NEXTVAL
               , #{inUserId}
               , #{title}
               , #{matchMode}
               , #{message}
               , POSITION_SEQ.CURRVAL
               , #{status}
               , SYSDATE
               , #{inUserId}
               , SYSDATE
               , #{inUserId})
        SELECT *
        FROM DUAL;

    </insert>

</mapper>